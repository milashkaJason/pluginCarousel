"use strict";class SliderCarousel{constructor({main:e,numberSlider:i=0,wrap:t,position:s=0,next:n,prev:o,showToSlides:r=3,infinity:l=!1,responsive:d=[]}){t&&e||console.warn('slider-carousel: Необходимо 2 свойства, "main" и "wrap"'),this.main=document.querySelector(e),this.wrap=document.querySelector(t),this.slides=document.querySelector(t).children,this.next=document.querySelector(n),this.prev=document.querySelector(o),this.showToSlides=r,this.numberSlider=i,this.widthOneSlide=.9*window.innerWidth/r,this.options={position:s,widthSlides:100/this.showToSlides,infinity:l},this.responsive=d}init(){this.addGloClass(),this.addStyle(),this.prev&&this.next||this.addArrow(),this.controlSlider(),this.options.position<this.slides.length-this.showToSlides?this.wrap.style.transform=`translateX(-${this.options.position*this.options.widthSlides}%)`:console.warn("Укажите значение position меньше. Установлено значение position по умолчанию = 0!!!"),this.responsive&&this.responseInit(),this.swipe(),this.swipeMouse()}addGloClass(){this.main.classList.add("glo-slider"+this.numberSlider),this.wrap.classList.add("glo-slider__wrap"+this.numberSlider);for(const e of this.slides)e.classList.add("glo-slider__item"+this.numberSlider)}addStyle(){let e=document.getElementById("sliderCarousel-style"+this.numberSlider);e||(e=document.createElement("style"),e.id="sliderCarousel-style"+this.numberSlider),e.textContent=`\n        .glo-slider${this.numberSlider} {\n        width: 90%;\n        overflow: hidden;\n        margin: 0 auto;\n        }\n        \n        .glo-slider__wrap${this.numberSlider} {\n        display: flex;\n        transition: transform 0.5s;\n        will-change: transform;\n        text-align: center;\n        }\n        \n        .glo-slider__item${this.numberSlider} {\n        flex: 0 0 ${this.options.widthSlides}%;\n        margin: 0 auto  ;\n        }\n        `,document.head.appendChild(e)}controlSlider(){this.prev.addEventListener("click",this.prevSlider),this.next.addEventListener("click",this.nextSlider)}prevSlider=()=>{(this.options.infinity||this.options.position>0)&&(--this.options.position,this.options.position<0&&(this.options.position=this.slides.length-this.showToSlides),this.wrap.style.transform=`translateX(-${this.options.position*this.options.widthSlides}%)`)};nextSlider=()=>{(this.options.infinity||this.options.position<this.slides.length-this.showToSlides)&&(++this.options.position,this.options.position>this.slides.length-this.showToSlides&&(this.options.position=0),this.wrap.style.transform=`translateX(-${this.options.position*this.options.widthSlides}%)`)};addArrow(){this.prev=document.createElement("button"),this.next=document.createElement("button"),this.prev.className="glo-slider__prev",this.next.className="glo-slider__next",this.main.appendChild(this.prev),this.main.appendChild(this.next);const e=document.createElement("style");e.textContent="\n        .glo-slider__prev,\n        .glo-slider__next{\n        margin: 0 10px;\n        border: 20px solid transparent;\n        background: transparent;\n        }\n        .glo-slider__next {\n        border-left-color: #19b5fe;\n        position: absolute;\n        top: 37%;\n        right: 0;\n        }\n       .glo-slider__prev {\n        border-right-color: #19b5fe;\n        position: absolute;\n        top: 37%;\n        left: 0;\n        }\n        .glo-slider__prev:hover,\n        .glo-slider__next:hover{\n        cursor: pointer;\n        }\n        .glo-slider__prev:hover,\n        .glo-slider__next:hover,\n        .glo-slider__prev:hover,\n        .glo-slider__next:focus{\n        background: transparent;\n        outline: transparent;\n        }\n        ",document.head.appendChild(e)}responseInit(){const e=this.showToSlides,i=this.responsive.map(e=>e.breakPoint),t=Math.max(...i),s=()=>{const s=document.documentElement.clientWidth;if(s<t)for(let e=0;e<i.length;e++)s<i[e]&&(this.showToSlides=this.responsive[e].slideToShow,this.options.widthSlides=100/this.showToSlides,this.addStyle());else this.showToSlides=e,this.options.widthSlides=100/this.showToSlides,this.addStyle()};s(),window.addEventListener("resize",s)}swipe(){let e=[];document.querySelector(".glo-slider"+this.numberSlider).addEventListener("touchmove",i=>{let t=i.targetTouches[0].clientX;e.push(t)}),document.querySelector(".glo-slider"+this.numberSlider).addEventListener("touchend",i=>{let t=e[0]-e[e.length-1];.5*this.widthOneSlide<=t?this.nextSlider():.5*-this.widthOneSlide>=t&&this.prevSlider(),e=[]})}swipeMouse(){let e=[];document.querySelector(".glo-slider"+this.numberSlider).addEventListener("mousedown",i=>{console.log(i.clientX),i.clientX&&document.querySelector(".glo-slider"+this.numberSlider).addEventListener("mousemove",i=>{console.log(i.clientX),e=[]})})}}